<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<!-- ========================================== -->
<!--   作者卡片组件 - 使用关于页面配置          -->
<!-- ========================================== -->

<a th:fragment="card" href="/about"
  class="card bg-base-100/80 backdrop-blur-xl shadow-lg border border-base-content/5 rounded-[1.5rem] p-6 block group cursor-pointer hover:shadow-xl hover:border-primary/20 transition-all duration-300"
  th:with="profile = ${theme.config.about_settings.profile},
           hasAvatar = ${profile?.avatar != null and !profile.avatar.isEmpty()},
           hasNickname = ${profile?.nickname != null and !profile.nickname.isEmpty()},
           hasRole = ${profile?.role != null and !profile.role.isEmpty()},
           hasBio = ${profile?.bio != null and !profile.bio.isEmpty()}">

  <!-- 居中头像布局 -->
  <div class="flex flex-col items-center text-center">
    <!-- 头像 with 精致光环 -->
    <div class="relative mb-4">
      <!-- 外层光环 -->
      <div
        class="absolute -inset-2 bg-gradient-to-br from-primary/30 via-secondary/20 to-accent/30 rounded-[1.5rem] blur-lg opacity-0 group-hover:opacity-70 transition-opacity duration-500">
      </div>
      <!-- 内层边框光 -->
      <div
        class="absolute -inset-0.5 bg-gradient-to-br from-primary/50 to-secondary/50 rounded-[1.25rem] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
      </div>
      <!-- 头像：优先使用关于页的头像，否则使用站点logo -->
      <img th:src="${hasAvatar} ? ${profile.avatar} : ${site.logo}" alt="avatar"
        class="relative w-20 h-20 rounded-[1.25rem] object-cover bg-base-200 ring-2 ring-base-100" />
    </div>

    <!-- 昵称：优先使用关于页的昵称，否则使用站点标题 -->
    <h3 class="text-lg font-bold text-base-content tracking-tight"
      th:text="${hasNickname} ? ${profile.nickname} : ${site.title}">昵称</h3>

    <!-- 职位/角色标签 -->
    <span th:if="${hasRole}"
      class="inline-flex items-center mt-2 px-3 py-1 rounded-full text-xs font-medium bg-base-200/60 text-base-content/60">
      <span class="w-1.5 h-1.5 rounded-full bg-success mr-2 animate-pulse"></span>
      <span th:text="${profile.role}">博主</span>
    </span>

    <!-- 个人简介：仅在有内容时显示 -->
    <p th:if="${hasBio}" class="text-sm text-base-content/50 mt-3 line-clamp-2 leading-relaxed"
      th:text="${profile.bio}">个人简介...</p>

    <!-- 分隔线 -->
    <div class="w-12 h-px bg-gradient-to-r from-transparent via-base-content/10 to-transparent my-4"></div>

    <!-- 查看更多 -->
    <span
      class="inline-flex items-center gap-1.5 text-xs font-medium text-base-content/40 group-hover:text-primary transition-colors">
      <span class="icon-[heroicons--user-circle] w-4 h-4"></span>
      了解更多
      <span class="icon-[heroicons--arrow-right] w-3 h-3 group-hover:translate-x-0.5 transition-transform"></span>
    </span>
  </div>
</a>

</html>