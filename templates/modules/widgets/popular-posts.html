<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<!-- ========================================== -->
<!--           热门文章组件                      -->
<!-- ========================================== -->

<div th:fragment="list" class="card bg-base-100 shadow-sm rounded-lg p-4 sidebar-card" 
     style="transition: box-shadow 0.2s ease;"
     th:with="popularPosts = ${postFinder.list({page: 1, size: 5})}">
  <h3 class="font-semibold text-lg mb-4 flex items-center gap-2 text-base-content">
    <span class="icon-[heroicons--fire] w-5 h-5"></span>
    <span>热门文章</span>
  </h3>
  <div class="space-y-2">
    <a th:each="post : ${popularPosts.items}"
       th:href="@{${post.status.permalink}}"
       th:title="${post.spec.title}"
       class="block p-2.5 rounded-lg hover:bg-base-200 transition-colors">
      <h4 class="text-sm font-medium mb-1.5 line-clamp-2 text-base-content" th:text="${post.spec.title}"></h4>
      <div class="flex items-center justify-between gap-2 text-xs text-base-content/60">
        <span th:text="${#dates.format(post.spec.publishTime,'yyyy-MM-dd')}"></span>
        <div class="flex items-center gap-1">
          <span class="icon-[heroicons--eye] w-3 h-3"></span>
          <span th:text="${post.stats.visit ?: 0}"></span>
        </div>
      </div>
    </a>
  </div>
</div>

</html>

