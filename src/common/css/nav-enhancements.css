/* ==================== 导航栏增强样式 ==================== */

/**
 * 导航栏核心样式配置
 * 功能：提供透明背景、渐变遮罩和平滑过渡效果
 * 特性：响应式设计、主题适配、性能优化
 * 
 * 性能优化说明：
 * 1. 使用具体属性替代 transition: all
 * 2. hover 效果仅在支持 hover 的设备上生效
 * 3. 动画分层：父容器滑入 + 子元素淡入（避免 transform 叠加）
 */

/* 导航菜单图标样式 */
.nav-icon-svg {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.nav-icon-svg svg {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

.nav-icon-svg svg,
.nav-icon-svg svg * {
  fill: currentColor !important;
  color: currentColor !important;
}

/* 基础导航栏样式 - 透明背景 */
.nav-wrapper {
  z-index: 50 !important;
}

.navbar {
  position: relative;
  background-color: transparent;
}

/* 导航栏内容层级管理 - 确保内容显示在遮罩上层 */
.navbar > * {
  position: relative;
  z-index: 10;
}

/**
 * 导航菜单交互效果（仅桌面端）
 * 功能：菜单项悬停动画、下划线指示器、位移效果
 */

/* 导航菜单项基础样式 */
.nav-menu-item {
  position: relative;
  overflow: hidden;
}

.nav-menu-item::before {
  content: "";
  position: absolute;
  bottom: 0.25rem;
  left: 50%;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, currentColor, transparent);
  transform: translateX(-50%);
  opacity: 0.8;
}

/* 桌面端 hover 效果 - 仅在支持 hover 的设备上生效 */
@media (hover: hover) {
  .nav-menu-item {
    transition: transform 0.2s ease, color 0.2s ease;
  }
  
  .nav-menu-item::before {
    transition: width 0.2s ease;
  }
  
  .nav-menu-item:hover::before {
    width: 60%;
  }

  .nav-menu-item:hover {
    transform: translateY(-1px);
  }
  
  /* Logo 区域交互效果 */
  .navbar .flex-shrink-0 a {
    transition: transform 0.2s ease, opacity 0.2s ease;
  }

  .navbar .flex-shrink-0 a:hover {
    transform: scale(1.05);
    opacity: 0.9;
  }
  
  /* 导航栏按钮 hover */
  .navbar .btn-ghost {
    transition: transform 0.15s ease, background-color 0.15s ease;
  }

  .navbar .btn-ghost:hover {
    background-color: color-mix(in srgb, var(--color-base-content) 5%, transparent);
    transform: translateY(-1px);
  }
}

/* 按钮 active 状态（所有设备） */
.navbar .btn-ghost:active {
  transform: translateY(0) scale(0.98);
}


/**
 * 移动端菜单系统
 * 功能：抽屉式菜单、触摸优化、动画效果
 * 
 * 动画优化：
 * - 父容器（drawer-slide-in）：滑入动画
 * - 子元素（drawer-menu-item）：仅淡入，不做位移（避免 transform 叠加）
 */

/* 移动端抽屉渐变背景 - 简化为 5 点渐变 */
.drawer-gradient-bg {
  background: linear-gradient(
    to right,
    var(--color-base-100) 0%,
    var(--color-base-100) 30%,
    color-mix(in srgb, var(--color-base-100) 70%, transparent) 55%,
    color-mix(in srgb, var(--color-base-100) 30%, transparent) 80%,
    transparent 100%
  );
}

/* 移动端抽屉滑入动画 - 父容器负责滑入 */
.drawer-slide-in {
  animation: drawerSlideIn 0.25s ease-out;
}

@keyframes drawerSlideIn {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 移动端菜单项 - 仅淡入，不做位移（避免与父容器 transform 叠加） */
.drawer-menu-item {
  opacity: 0;
  animation: menuItemFadeIn 0.2s ease-out forwards;
  animation-delay: calc(var(--item-index, 0) * 0.03s + 0.1s);
}

@keyframes menuItemFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* 移动端菜单项触摸交互优化 */
.mobile-menu-link {
  position: relative;
  -webkit-tap-highlight-color: transparent;
}

/* 移动端二级菜单折叠展开效果 */
.mobile-menu-item .collapse {
  border-radius: 0.75rem;
  overflow: hidden;
}

.mobile-menu-item .collapse-title {
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.mobile-menu-item .collapse-content {
  transition: max-height 0.2s ease;
}

/* 移动端菜单项激活状态样式 */
.mobile-menu-item .collapse[open] .collapse-title {
  background-color: color-mix(in srgb, var(--color-primary) 8%, transparent);
  border-left-color: var(--color-primary);
}

/* 移动端触摸反馈效果 - 简化为背景色变化 */
.mobile-menu-item .collapse-title:active,
.mobile-menu-item .menu-item a:active,
.mobile-menu-link:active {
  background-color: color-mix(in srgb, var(--color-base-content) 8%, transparent);
}

/**
 * 导航栏渐变遮罩
 * 功能：顶部渐变过渡效果
 * 优化：简化为 5 点渐变，移除无用的 transition
 */

/* 导航栏渐变遮罩 - 简化渐变点 */
.navbar::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: calc(100% + 1rem);
  background: linear-gradient(
    to bottom,
    var(--color-base-100) 0%,
    color-mix(in srgb, var(--color-base-100) 85%, transparent) 40%,
    color-mix(in srgb, var(--color-base-100) 50%, transparent) 65%,
    color-mix(in srgb, var(--color-base-100) 15%, transparent) 85%,
    transparent 100%
  );
  pointer-events: none;
  z-index: -1;
}


/**
 * 菜单状态指示器
 * 功能：当前活动菜单项的视觉标识
 */

/* 活动菜单项样式 */
.nav-menu-item.active {
  color: var(--color-primary);
}

.nav-menu-item.active::before {
  width: 40%;
  background: var(--color-primary);
}

/**
 * 响应式设计优化
 * 功能：移动端专用样式、触摸交互、性能优化
 */

/* 移动端触摸反馈 */
@media (max-width: 1023px) {
  .drawer-button:active {
    background-color: color-mix(in srgb, var(--color-base-content) 10%, transparent);
  }
}

/**
 * 下拉子菜单交互效果（仅桌面端）
 */
@media (hover: hover) {
  .dropdown-content a {
    transition: background-color 0.15s ease, transform 0.15s ease;
  }

  .dropdown-content a:hover {
    transform: translateX(2px);
    background-color: color-mix(in srgb, var(--color-primary) 10%, transparent);
  }
}

